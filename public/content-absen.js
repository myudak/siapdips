var L=Object.defineProperty;var S=(c,a,p)=>a in c?L(c,a,{enumerable:!0,configurable:!0,writable:!0,value:p}):c[a]=p;var r=(c,a,p)=>S(c,typeof a!="symbol"?a+"":a,p);(function(){"use strict";class c{constructor({element:t,handle:i}){r(this,"isDragging",!1);r(this,"currentX",0);r(this,"currentY",0);r(this,"initialX",0);r(this,"initialY",0);r(this,"xOffset",0);r(this,"yOffset",0);r(this,"element");r(this,"handle");r(this,"dragStart",t=>{this.handle.contains(t.target)&&(this.initialX=t.clientX-this.xOffset,this.initialY=t.clientY-this.yOffset,this.isDragging=!0,this.element.classList.add("dragging"))});r(this,"drag",t=>{this.isDragging&&(t.preventDefault(),this.currentX=t.clientX-this.initialX,this.currentY=t.clientY-this.initialY,this.constrainAndSetPosition())});r(this,"dragEnd",()=>{this.isDragging&&(this.initialX=this.currentX,this.initialY=this.currentY,this.isDragging=!1,this.element.classList.remove("dragging"))});r(this,"touchStart",t=>{if(this.handle.contains(t.target)){t.preventDefault();const i=t.touches[0];this.initialX=i.clientX-this.xOffset,this.initialY=i.clientY-this.yOffset,this.isDragging=!0,this.element.classList.add("dragging")}});r(this,"touchMove",t=>{if(this.isDragging){t.preventDefault();const i=t.touches[0];this.currentX=i.clientX-this.initialX,this.currentY=i.clientY-this.initialY,this.constrainAndSetPosition()}});r(this,"touchEnd",()=>{this.isDragging&&(this.initialX=this.currentX,this.initialY=this.currentY,this.isDragging=!1,this.element.classList.remove("dragging"))});this.element=t,this.handle=i,this.handle.addEventListener("mousedown",this.dragStart),document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.dragEnd),this.handle.addEventListener("touchstart",this.touchStart,{passive:!1}),document.addEventListener("touchmove",this.touchMove,{passive:!1}),document.addEventListener("touchend",this.touchEnd)}constrainAndSetPosition(){const t=this.element.getBoundingClientRect(),i=window.innerWidth,s=window.innerHeight;this.currentX<-(i-t.width)&&(this.currentX=-(i-t.width)),this.currentX>0&&(this.currentX=0),this.currentY<0&&(this.currentY=0),this.currentY>s-t.height&&(this.currentY=s-t.height),this.xOffset=this.currentX,this.yOffset=this.currentY,this.setTranslate(this.currentX,this.currentY)}setTranslate(t,i){this.element.style.transform=`translate(${t}px, ${i}px)`}}function a(){const e=document.createElement("div");Object.assign(e.style,{position:"fixed",top:"20px",right:"20px",width:"320px",minHeight:"200px",backgroundColor:"#ffffff",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",padding:"16px",zIndex:"9999",resize:"both",overflow:"auto",border:"1px solid rgba(0,0,0,0.1)",backdropFilter:"blur(10px)",transition:"box-shadow 0.3s ease",transform:"translate(0, 0)"});const t=document.createElement("div");Object.assign(t.style,{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px",userSelect:"none",padding:"4px 4px 12px 4px",borderBottom:"1px solid rgba(0,0,0,0.06)"});const i=document.createElement("div");Object.assign(i.style,{display:"flex",alignItems:"center",gap:"8px",cursor:"move",padding:"4px 8px",borderRadius:"6px",transition:"background-color 0.2s ease"});const s=p(),f=w(),g=document.createElement("span");g.textContent="Siap Dipss",Object.assign(g.style,{fontSize:"18px",fontWeight:"bold",cursor:"default",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'});const o=document.createElement("button");Object.assign(o.style,{border:"none",background:"none",cursor:"pointer",padding:"8px 12px",borderRadius:"6px",color:"#666",fontSize:"16px",transition:"all 0.2s ease",minWidth:"44px",minHeight:"44px",display:"flex",alignItems:"center",justifyContent:"center"}),o.textContent="✕",o.addEventListener("mouseenter",()=>{o.style.backgroundColor="#f5f5f5",o.style.color="#333"}),o.addEventListener("mouseleave",()=>{o.style.backgroundColor="transparent",o.style.color="#666"}),o.addEventListener("click",()=>e.remove());const n=document.createElement("button");Object.assign(n.style,{border:"none",background:"none",cursor:"pointer",padding:"8px 12px",borderRadius:"6px",color:"#666",fontSize:"16px",transition:"all 0.2s ease",marginRight:"8px",minWidth:"44px",minHeight:"44px",display:"flex",alignItems:"center",justifyContent:"center"}),n.textContent="▼",n.title="Minimize",n.addEventListener("mouseenter",()=>{n.style.backgroundColor="#f5f5f5",n.style.color="#333"}),n.addEventListener("mouseleave",()=>{n.style.backgroundColor="transparent",n.style.color="#666"});const b={width:e.style.width,minHeight:e.style.minHeight,padding:e.style.padding,borderRadius:e.style.borderRadius,resize:e.style.resize};let h=!1;n.addEventListener("click",()=>{h=!h,h?(l.style.display="none",e.style.minHeight="auto",e.style.resize="none",n.textContent="▲",n.title="Maximize"):(l.style.display="grid",e.style.minHeight=b.minHeight,e.style.resize=b.resize,n.textContent="▼",n.title="Minimize")}),i.appendChild(s),i.appendChild(f),i.appendChild(g),t.appendChild(i),t.appendChild(n),t.appendChild(o),e.appendChild(t);const l=document.createElement("div");return Object.assign(l.style,{minHeight:"100px",width:"100%",display:"grid",gap:"12px",padding:"8px 0"}),e.appendChild(l),new c({element:e,handle:i}),v(l),document.body.appendChild(e),e}function p(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("viewBox","0 0 283.46 283.46"),e.setAttribute("width","20"),e.setAttribute("height","20"),e.setAttribute("class","stroke-black dark:stroke-white");const t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","m94.86,34.25l1.76,30.39c-8.19-.18-14.5-.15-18.92.09-14.12.82-21.15,6.09-21.11,15.79.05,9.27,7.4,13.87,22.06,13.8,7.22-.04,14.6-1.8,22.13-5.28,4.84-2.29,11.88-6.91,21.12-13.85l22.56-15.31c12.25-8.25,22.41-14.18,30.48-17.78,11.08-4.9,21.96-7.38,32.63-7.43,14.01-.07,25.24,3.65,33.69,11.16,9.42,8.25,14.16,19.55,14.23,33.89.07,14.66-5.16,25.68-15.69,33.06-8.17,5.86-19.04,8.93-32.62,9.21-1.08,0-4.8.02-11.16.05l-3.22-30.22c9.59-.05,16.33-.35,20.21-.91,9.26-1.34,13.88-5.62,13.84-12.84-.04-8.63-6.96-12.9-20.76-12.83-7.76.04-14.92,1.85-21.48,5.44-3.98,2.18-12.52,7.66-25.63,16.46l-22.73,15.63c-21.49,14.87-42.21,22.36-62.15,22.46-11.86.06-21.57-2.43-29.14-7.46-11.25-7.38-16.91-19.75-17-37.11-.08-16.39,5.47-28.7,16.64-36.95,5.91-4.45,12.2-7.28,18.88-8.5,5.38-.89,11.96-1.35,19.72-1.39,3.56-.02,7.44.13,11.65.43Z"),t.setAttribute("class","stroke-black dark:stroke-white top-path"),t.setAttribute("style","stroke-miterlimit: 10; stroke-width: 14px;");const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d","m252.41,161.34l.16,32.99c1.47,35.68-15.37,53.92-50.51,54.74l-119.17.58c-35.15-.48-52.16-18.56-51.04-54.25l-.16-32.99,220.72-1.07Zm-191.95,31.82l.02,3.88c.04,9.06,2.07,15.14,6.07,18.24,3.03,2.25,8.42,3.41,16.19,3.48l119.17-.58c8.84-.15,14.81-2.01,17.92-5.58,2.68-3.25,4.05-8.7,4.13-16.35l-.02-3.88-163.48.79Z"),i.setAttribute("class","stroke-black dark:stroke-white bottom-path"),i.setAttribute("style","stroke-miterlimit: 10; stroke-width: 14px;"),e.appendChild(t),e.appendChild(i),e}function w(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.setAttribute("viewBox","0 0 595.28 595.28"),e.setAttribute("width","20"),e.setAttribute("height","20"),Object.assign(e.style,{cursor:"pointer"}),["206.43 406.96 297.66 564.99 297.65 565.01 115 565.01 206.32 406.83 206.34 406.8 206.43 406.96","571.62 90.47 480.3 248.65 388.99 406.8 297.75 248.78 297.66 248.63 388.97 90.47 571.62 90.47","297.65 248.65 115 248.65 23.67 90.47 206.32 90.47 297.65 248.65"].forEach(i=>{const s=document.createElementNS("http://www.w3.org/2000/svg","polygon");s.setAttribute("points",i),s.setAttribute("fill","currentColor"),e.appendChild(s)}),e}function v(e){const t=document.createElement("input");t.type="file",t.accept="image/*",t.style.display="none";const i=document.createElement("button");Object.assign(i.style,{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px 16px",border:"none",borderRadius:"8px",backgroundColor:"#007AFF",color:"#ffffff",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",width:"100%",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',position:"relative"});const s=document.createElement("div");Object.assign(s.style,{display:"flex",alignItems:"center",gap:"8px",transition:"opacity 0.2s"});const f=document.createElement("span");f.textContent="📷",Object.assign(f.style,{fontSize:"16px"});const g=document.createElement("span");g.textContent="Upload QR Absen",s.appendChild(f),s.appendChild(g),i.appendChild(s);const o=C();o.style.display="none",i.appendChild(o);const n=document.createElement("div");Object.assign(n.style,{marginTop:"12px",padding:"12px",borderRadius:"8px",backgroundColor:"#f5f5f5",fontSize:"14px",lineHeight:"1.4",wordBreak:"break-all",display:"none"}),i.addEventListener("mouseenter",()=>{i.style.backgroundColor="#0066DD",i.style.transform="translateY(-1px)",i.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}),i.addEventListener("mouseleave",()=>{i.style.backgroundColor="#007AFF",i.style.transform="translateY(0)",i.style.boxShadow="none"}),i.addEventListener("click",()=>{t.click()}),t.addEventListener("change",async b=>{var l;const h=(l=b.target.files)==null?void 0:l[0];if(h){i.disabled=!0,s.style.opacity="0",o.style.display="block",n.style.display="none";try{const d=new Image;d.onload=()=>{const y=document.createElement("canvas"),u=y.getContext("2d");y.width=d.width,y.height=d.height,u==null||u.drawImage(d,0,0);const x=u==null?void 0:u.getImageData(0,0,y.width,y.height);if(x&&window.jsQR){const m=window.jsQR(x.data,x.width,x.height);if(m){n.innerHTML=`
              <div style="color: #28a745; font-weight: bold; margin-bottom: 8px;">✅ Done</div>
              <div style="color: #333;"><strong>Data:</strong></div>
              <div style="color: #666; margin-top: 4px;">${m.data}</div>
            `,n.style.backgroundColor="#d4edda",n.style.borderLeft="4px solid #28a745",window.open(`https://siap.undip.ac.id/a/${m.data}`,"_blank");try{new URL(m.data),setTimeout(()=>{confirm(`Found QR code with URL: ${m.data}

Do you want to navigate to this URL?`)&&(window.location.href=m.data)},1e3)}catch{}}else n.innerHTML=`
              <div style="color: #dc3545; font-weight: bold;">❌ No QR Code Found</div>
              <div style="color: #666; margin-top: 4px;">Please try with a clearer image or different angle.</div>
            `,n.style.backgroundColor="#f8d7da",n.style.borderLeft="4px solid #dc3545"}else n.innerHTML=`
            <div style="color: #ffc107; font-weight: bold;">⚠️ QR Scanner Not Available</div>
            <div style="color: #666; margin-top: 4px;">jsQR library is not loaded.</div>
          `,n.style.backgroundColor="#fff3cd",n.style.borderLeft="4px solid #ffc107";n.style.display="block",i.disabled=!1,s.style.opacity="1",o.style.display="none"},d.onerror=()=>{n.innerHTML=`
          <div style="color: #dc3545; font-weight: bold;">❌ Error Loading Image</div>
          <div style="color: #666; margin-top: 4px;">Please select a valid image file.</div>
        `,n.style.backgroundColor="#f8d7da",n.style.borderLeft="4px solid #dc3545",n.style.display="block",i.disabled=!1,s.style.opacity="1",o.style.display="none"},d.src=URL.createObjectURL(h)}catch(d){console.error("Error processing image:",d),n.innerHTML=`
        <div style="color: #dc3545; font-weight: bold;">❌ Processing Error</div>
        <div style="color: #666; margin-top: 4px;">An error occurred while processing the image.</div>
      `,n.style.backgroundColor="#f8d7da",n.style.borderLeft="4px solid #dc3545",n.style.display="block",i.disabled=!1,s.style.opacity="1",o.style.display="none"}t.value=""}}),e.appendChild(t),e.appendChild(i),e.appendChild(n)}function C(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("width","16"),e.setAttribute("height","16");const t=document.createElementNS("http://www.w3.org/2000/svg","circle");return t.setAttribute("cx","12"),t.setAttribute("cy","12"),t.setAttribute("r","8"),t.setAttribute("stroke","currentColor"),t.setAttribute("stroke-width","2"),t.setAttribute("fill","none"),e.appendChild(t),e.style.animation="spin 1s linear infinite",e}function k(){const e=document.createElement("style");e.textContent=`
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .dragging {
      user-select: none;
      cursor: move;
    }
  `,document.head.appendChild(e)}function E(e){k(),a()}Toastify({text:"Siap DiPS ~> Absen (●ˇ∀ˇ●)",duration:3e3,close:!0,position:"left"}).showToast(),console.log("Hello Undiplearnv 5"),E()})();
